  - فصل اول :clipboard:

  - قسمت اول [مفهوم-client-و-server](مفهوم-client-و-server)
  - قسمت دوم [وب-سرور-(web-server)-چیه؟](وب-سرور-(web-server)-چیه؟)
  - قسمت سوم [پایگاه-داده-(database)-چیه؟](پایگاه-داده-(database)-چیه؟)
  - قسمت چهارم [مفهوم-پروتکل-(protocol)](مفهوم-پروتکل-(protocol))
  - قسمت پنجم [آشنایی-با-پروتکل-ip-و-dns](آشنایی-با-پروتکل-ip-و-dns)
  - قسمت ششم [وب-چطور-کار-میکنه؟(how-the-web-works)](وب-چطور-کار-میکنه؟(how-the-web-works))
  - قسمت هفتم [مفهوم-پورت-(port)](مفهوم-پورت-(port))
  - قسمت هشتم [url-anatomy](url-anatomy)
  - قسمت نهم [تفاوت-فرانت-اند-و-بک-اند](تفاوت-فرانت-اند-و-بک-اند)


  - فصل دوم :clipboard:
  - قسمت اول [عملیات-CRUD](عملیات-CRUD)
  - قسمت دوم [نصب-mongodb](نصب-mongodb)
  - قسمت سوم [mongodb-compass-دقیقا-چیه؟](mongodb-compass-دقیقا-چیه؟)
  - قسمت چهارم [ایجاد-دیتابیس-جدید](ایجاد-دیتابیس-جدید)
  - قسمت پنجم [آشنایی-با-mongosh](آشنایی-با-mongosh)
  - قسمت ششم [ایجاد-collection](ایجاد-collection)
  - قسمت هفتم [متد-insertOne](متد-insertOne)
  - قسمت هشتم [متد-insertMany](متد_inserMany)
  - قسمت نهم [لطفا-داکیومنت-بخون](لطفا-داکیومنت-بخون)
  - قسمت دهم [متد-find-و-findOne](متد-find-و-findOne)
  - قسمت یازدهم [متد-updateOne](متد-updateOne)
  - قسمت دوازدهم [متد-updateMany](متد-updateMany)
  - قسمت سیزدهم [deleteOne-و-deleteMany](deleteOne-و-deleteMany)


---

فصل 7 - مفاهیم پایه وب (web core concepts)

> # مفهوم client  و server

میخوایم در مورد مفهوم کلی client , server  و هر کدوم چی هستند توضیح بدیم 
یه مثال تو دنیای وافعی بزنیم client  که بهش مشتری هم میگیم میشه سرویس گیرنده  یا ارسال کننده درخواست و اون رو یه فرد تصور کنیم و server  که میشه سرویس دهنده یا پاسخ به درخواست  که یه رستوران هست مثلا  خب این رستوران که سرور ما هست یه سری مشتری داره که بهش میگیم کلاینت این مشتریا میرن میشینن تو رستوران و درخواست میدن یه غذایی رو سرور که میشه رستوران به درخواست اونا پاسخ میده  و سرویس میده  به درخواست اون مشتریا  پس سرور یا همون رستوران به درخواست مشتریا رسیدگی میکنه و میبینه چه غذایی میخوان و بهشون سرویس میده به درخواستشون پاسخ رو ارسال میکنه  که اینجا پاسخ  میشه اون غذا 

`پس client درخواست ارسال میکنه  server یه درخواست ارسال شده از client پاسخ میده `
<div align="center">
  <img  src="./img/Client-server-model.svg.png">
</div>

<br/>
هلا توی دنیای وب client  میشه همون مرور گرهایی که ما بهاش وارد سایت های مختلف میشیم  و server میشه یه کامپیوتر قدرت مند همیشه روشن متصل به اینترنت هلا فرض کنین ما  تو مرور گرمون که میشه کلاینت سرچ میکنیم میخوایم وارد سایت گوگل بشیم وقتی ما ادرس رو میزنیم در واقع ما داریم یه درخواست میزنیم به سرور گوگل  اون کامپیوتر قدرت مند همیشه روشتن متصل به اینترنت  که گوگل روش میزبانی میشه  که بهش میگیم سرور هلا سرور میاد درخواستی که از کلاینت ارسال شده رو برسی میکنه و بهش جواب میده و اون فایل ها همه چیزی که نیاز هست تا صفحه گوگل رو ما ببینیم ارسال میکنه اون فایل هارو به سمت مرورگر ما مه کلاینت بود 
مثل اون مثال رستوران که رستوران همون سرور بود و مشتری میشد کلاینت که مشتری میاد تو رستوران و یه غذایی رو سفارش میده و رستوران متتاسب با اون درخواست اون غذایی که مشتری خواسته رو بهش میده .

---
> # وب سرور (web server) چیه؟

کفتیم که سرور میشد یه کامپیوتر همیشه روشتن قدرتمند متصل به اینترنت مثل کامپیوتر های ما رم داره spu داره و... و کلاینت میشد اون مرور گر ما که توش ادرس میزدیم و درخواست میزد به سرور و سرور پاسخ مناسب با اون درخواست رو بهش میداد اون فایلا و... هرچی که لازم هست تا اون وب سایت برای ما بالا بیاد و نمایش داده بشه پس server یک سخت افزاره یه قطعه ی  سخت افزاریه  اما web server  یک نرم افزاره  مثل فتوشاپ یا vs code اینا هم یک نرم افزار هستن که ما میاییم اینا رو رو لپ تاپ یا کامپیوترمون نصب میکنیم خب سرور هم یه کامپیوتره دیگه پس روی سرور هم نرم افزارهایی نصب میشه  ولی ما نمیاییم روی سرور فتوشاپ نصب کنیم میایم نرم افزاری روی سرور نصب میکنیم که بتونه به درخواست های client پاسخ بده یعنی درخواست هایی که از client میاد به سمت سرور رو پردازش کنه و پاسخ درست و متناسب رو به اون درخواست بده 

`پس فهمیدیم که web server یه نرم افزاره که روی سرور نصب میشه `
هلا چند تا نرم افزار وب سرور معروف داریم : Apache , Nginx , IIs , Litespeed
یه بار دیگه تاکیید میکنیم که وظیفه وب سرور که روی سرور نصب میشه پردازش و پاسخ دادن به درخواست های کلاینت است . سرور فقط یه کامپیوتر قدرتمند .... است که سخت افزاره و روش وب سرور هایی که نام بردیم نصب میشن.
گفتیم که client ارسال کننده درخواست است به اون درخواستی که کلاینت میفرسته سمت سرور request  میگیم  و به پاسخی که سرور میفرسته به سمت کلاینت بهش میگیم response 


<div align="center">
  <img  src="./img/request-response.PNG">
</div>

---

> # پایگاه داده (database) چیه؟

Database
میخوایم درمورد مفهوم Database یا پایگاه داده یاد بگیریم معدل فارسی Database میشه پایگاه داده یا بانک اطلاعاتی  یه نکته سعی کنیم که بیشتر رو خیلی تمرکز نکنیم رو معادل های فارسی ترجیع بدیم که به همون انگلیسیش عادت کنیم و همون انگلیسیشو یاد بگیریم این رو سعنی میکنم یه روتین شخصی خودم قرار بدم 

هلا دیتابیس چیه ؟ دیتابیس یه محلی هست برای ذخیره کردن و نگهداری از اطلاعات محل که اون دیتا اون اطلاعات نگهداری و ذخیره میشن 

🟢محلی برای ذخیره  کردن و نگهداری از اطلاعات

🟢مجموعه ای از اطلاعات که بصورت منظم دسته بندی شده اند

همونطور که مثلا کتابخانه محلی برای ذخیره کردن و نگهداری کتاب هاست و یا گلخانه محلی برای ذخیره و نگهداری گل های است 
دیتا بیس بصورت منظم مرتب و دسته بندی میشن صحبت از نظم و دسته بندی هست یعنی اطلاعات وب سایت ما توی دسته هایی که بهم مرتبت هستن و جدا از هم  تو دسته های مختلف نگهداری میشن 


فرض کنین ما یه وب سایت فروشگاهی میخوایم بزنیم وب سایت ما یه سری کاربر user داره کاربرای ما یه سری اطلاعاتی دارن مثل اینکه ما موقع ثبت نام ازشون نام و... میگیریم که اینا میتونن بیان تو یه دسته یا این کاربرا میتونن بیان و کامنت بزارن زیر محصولات و ما میاییم کل کانتا رو تو یه دسته بندی قرار میدیم  توی سایتمون ما قطعا یه سری محصولاتی داریم سایت فروشکاهی داریم دیگه خب محصولاتی هم داریم که اون اطلاعات مربوط به محصولات رو هم میزاریم تو یه دست بندی که قیمتش چنده ایا موجودی داره یا نه و...  و توسایتمون ممکنه مقالاتی داشته باشیم فرضن درمورد این محصولات مقاله ای هم بنویسم  مثلا موبایل هستن هالا ممکنه یه سری مقالات درمورد تکنولوژی های روز موبایل و... بنویسیم  و منتشر کنیم 


<div align="center">
  <img  src="./img/databaseModel.PNG">
</div>

`پس فهمیدیم که دیتا بیس چیزی نیست جز یک محلی که تمامی اطلاعات سایت ما داخل اون ذخیره و نگهداری میشن  و بصورت منظم و دسته بندی شده`

هلا یه سوال ممکنه پیش بیاد چرا ما بیاد اطلاعات رو بصورت دسته بندی و منظم انجام بدیم چه الزامی به اینکار هست؟؟
یه مثال بزنیم فرض کنین ما یه کتاب خانه داریم که تو این کتاب خانه هیج نظمی نیست و کل کتاب ها همه شون بهم ریخته هستن این چند هزار کتاب هلا یه نفر میخواد بیاد یه کتاب از شما درخواست کنه پیدا کردن اون کتاب چقدر سخته وقتی مظم و دسته بندی وجود نداره معلوم نیست کتابای تاریخی و فلسفی کجان و... توی سایت هم اینطوریه اگه ما دسته بندی نکنیم اطلاعات سایت رو کارمون خیلی بد میشه پس دقیقن کاری که دیتا بیس میکنه مثل دسته بندی قفسه کتاب خانه هست تو کتابخانه مییایم دسته بندی میکنیم که مثلا این قفسه برای کتاب های تاریخیه این برای فلسفیه این برای ... هست و اینطوری خیلی راحتر میتونیم مدیریت کنیم کتاب هاییی که میخوایم 
توی سایت هم اطلاعات کاربرای سایت همه میان دسته بندی میشن


جدول اطلاعات کاربران
| آدی      |نام |  جنسیت |تاریخ تولد |    یوزرنیم |   پسورد |
| ----------- | ----------- | -----------| ----------- | ----------- | ----------- |
| 1   |  میلاد       |  مذکر          |   75/11/2          |     miladb20        |    miladavbs         |
| 2   | الهه           |   مونث          |      ...       |       ...       |      ...      |
| 3   | مهران          |   مذکر          |     ...        |      ...       |     ...        |


اطلاعات کامت ها هم به همین صورت جدا بصورت دسته یندی و منظم

جدول اطلاعات کامنت ها

| آیدی      | یوزر آدی | کامنت      | تاریخ ثبت |
| ----------- | ----------- | ----------- | ----------- |
| 1      | 1       |      متن...       |      1403/02/12       |
| 2   | 1        |    متن ...         |     ...        |
| 3   | 5        |    متن ...         |     ...        |


مشخص هست دقیق که کاربری با این ایدی تو این تاریخ چه کامنتی رو ثبت کرده 
هلا دوباره برای مقالات و ... هم جدول هایی داریم مثل این 
---

> # مفهوم پروتکل (protocol)



میخوایم با مفهوم protocol | پروتکل  اشنا شیم خب با یه مثال خیلی ساده شروع کنیم اگه خاطرتون باشه تو دوران کرونا خیلی کلمه پروتکل های بهداشتی رو میشنیدیم هلا این پروتکل های بهداشتی چی بودن؟ 

پروتکل های بهداشتی :
🟢استفاده از ماسک
🟢رعایت فاصله مناسب
🟢دست ندادن
🟢و...

`مجموعه ای از قوانین و مقررات برای برقراری برای ارتباط بین انسان ها`

پس پروتوکل چیزی نیست جر یه سری قوانین و چهارچوب ها هالا توی دنیای وب 
`مجموعه ای از قوانین برای برقراری بین دو کامپیوتر`

هلا این دوتا کامپیوتر که گفتیم لزومن دقیقن دوتا کامپیوتر نیستن ممکنه یه لپ تاپ با یه سرور مثلا یه تبلت با یه سرور همونطور که گفتیم ما که نقش کلاینت رو داریم تو مرورگر ادرس یه وب سایتی رو میزنیم از کلاینت به سرور اون سایت یه reqest میره و سرور متناسب با اون request  براش یه response یا پاسخ رو به client میفرسته که این رویداد تحت قوانین و مقراراتی تحت یه چهارچوبی ارسال و دریافت میشه که بهش میگیم protocol که تو وب http یا https است انواع مختلف پروتکل ها رو داریم که با چند تا معروفشون اشنا میشیم



<div align="center">
  <img  src="./img/protocols.png">
</div>

---


> # آشنایی با پروتکل ip و dns

توی قسمت قبل با مفهوم protocol آشنا شدیم  گفتیم که پروتکل چیزی نیست جز مجموعه ای از قوانین ومقررات  و چهارچوب ها که دوتا کامپیوتر برای برقراری ارتباط باهم دیگه ازش استفاده میکنند دوتا از پروتکل هایی که داشتیم ip , dns بود که تو این قسمت برسیش میکنیم چون بهم دیگه ربط هم دارن و باهم مرتبط هستند 

(ip) internet prorocol 
هر دستگاه متصل به اینترنت یه ip مخصوص داره میتونیم آی پی رو به شماره ملی تشبیه کنیم 
یعنی فقط اون ip مخصوص اون دستگاه اینترنتی هست دقیقن مثل شماره ملی هر شخص شما نمیتونین دونفر رو پیدا کنین که شماره ملی مثل هم داشته باشن دقیق  

🟢google.com    142.251.46.206
🟢w3schools.com    13.248.240.135
🟢aparat.com    185.147.178.11

هر دامنه یه ip مختص به خودشو داره در واقع هر سایت رو یه سرور هست دیگه و اون سرور هم چیزی نیست جز یه کامپیوتر قدرت مند همیشه روشن همیشه متصل به اینترنت هست دیگه  اینجام گفتیم که هر دستگاه متصل به اینترنت یه ای پی داره پس اون سرور هم که متصل به اینترنت هست یه ای پی داره 
هلا مثلا سرور google.com   ای پی اون اینه 142.251.46.206 یعنی اگه ما بجای google.com  بیاییم شماره ip  اون سایت گوکل رو داخل مرورگر مون وارد کنیم وارد خود وب سایت گوگل میشه 

`پس متوجه شدیم که هر وب ساتی یه ip منحصر به فرد داره  و این  ip  از چهار بخش تشکیل شده  که از 0 تا 255 میتونه باشه  و توسط نقطه از هم دیگه جدا میشن `

البته دو نوع ای پی داریم یک ای پی ورژن 4 که همینه که توضیح دادیم و یکی ورژن 6 که نیاز نیست درموردش اینجا توضیح بدیم اگه خواستین میتونین درموردش مطلالعه کینن ولی کلیت مفهوم ip اینه 

خب هلا بریم سراغ Dns

Domain Name System <- DNS
پروتکلی که وضیفه تبدیل نام دامنه به ip و بلعکس رو برعهده داره 
🟢google.com  ->    142.251.46.206
🟢aparat.com   ->   185.147.178.11

dns  یه دونه دیگه از پروتکل های مهم  وب است  که بخواییم به فارسی ترجمش کنیم میشه سیستم نام دامنه ولی دنبال معنی فارسیش نریم چون ممکنه یکم بهاش برنخوره با کارش و معنی اصلیشو ازدست میده 
وضیفش تبدیل نام دامنه یا domain به ip و برعکس تبدیل ip به domain رو بعهده داره 

ما به آدرس سایت میگیم Domain یا دامنه 
چون زدن اون ip رو هر بار که بخواییم بزنیم سخته  با استفاده از پروتکل DNS  وقتی ما نام دامنه رو میزنیم اون خودش تبدیل به ip  میکنه و تو سمت سرور هم برعکس انجام میده برای سرور 
مثل دفترجه تلفن هست شما اگه بخوایید شماره هر کسی مثلا 1000 تا مخاطب دارین بجای اینکه شماره هر شخص رو دونه دونه حفظ کنین یا بنویسن رو برگه اسمش رو ذخیره میکنین رو هر بار که رو اسمش بزنین شماره رو میگیره براتون تلفنتون و اینکار خیلی راحت تره به این DNS دفترجه تلفن اسنترنت هم میگن به این اسم  هم معروفه

| Domain      | Ip Address |
| ----------- | ----------- |
| google.com      | 142.251.46.206       |
| w3schools.com   | 13.248.240.135       |
| aparat.com   | 185.147.178.11          |

بخاطر سپردن و وارد کردن نام دامنه سایت خیلی راحت تره تا ای پی ادرسش رو حفظ کنیم.

---

> # وب چطور کار میکنه؟(how the web works)

میخوایم برسی کنیم که دقیقن از لحضه ای که ما ادرس یک وب سایتی رو وارد میکنیم داخل مرورگر مون چه اتفاقاتی میفته و یه جورایی هم مرور کنیم چیزایی که تا الان یاد گرفتیم .

فرض کنین ما داخل مرورگر ادرس google.com رو وارد میکنیم اینجا مرور گر میشه client پس باید یه درسخاست بفرستیم به سرور google.com اما قبلش باید Ip گوگل رو پیدا کنیم اگه خاطرتون باشه گفتیم DNS کارش چیه ؟ تبدیل Domain سابت به Ip و برعکث 

<div align="center">
  <img  src="./img/webWork.PNG">
</div>

DNS Server Server Ip گوگل رو به ما میده  هلا که Ip گوگل رو داریم  هلا یه درخواست از سمت مرورگر ارسال میشه به سمت سرور اون سایت هلا اینجا ممکنه که نیاز باشه
یه سری اطلاعات هم از سرور گرفته بشه اگه نیاز به اینکار باشه یه ارتباطی هم بین سرور و دیتا بیس صورت میگیره و چیزهایی که لازم هست رو سرور از دیتابیس میگیره  و در نهایت سرور response یا پاسخی که باید آماده کنه رو اماده میکنه و میفرسته به سمت client و سایت روی مرور گر ما نمایش داده میشه هلا اون پاسخ یه response که میگیم همون فایل های html , css , js  ممکنه عکس باشه یا... بستگی داره چه سایتی درخواست زدیم و کدوم صفحه هست و اون صفحه چه اطلاعاتی داره این میشه ساروکار کلی وب البته که جزیات بیشتری داره که ما واردش نشدیم و بخش های اصلیشو توضیح دادیم .

---

> # مفهوم پورت (port)

کلمه port به معنی  درگاه یا در هست. روی سرور نرم افزارهای مختلفی نصبه سرور چی بود؟ سرور یه کامپیوتر قدرت مند همیشه روشن متصل به انترنت هست خب این یه کامپیوتره دیگه مثل بقیه کامپیوترهای خودمون نرم افزار های مختلفی روش نصبه 
<div align="center">
  <img  src="./img/port-1.PNG">
</div>

نرم افزارهایی که مدیریت میکنن درخواست هایی که به سمت سرور ارسال میشه مثل web server ها که انواع شو داریم  دیگه چه چیزهای نصب هست روی سرور مثل نرم افزارهای Database management نرم افزار هایی که وضیفه دارن دیتابیس رو مدیریت کنند و دیگه مثل زبان برنامه نویسی مثلا وقتی ما میخوایم روی یه سرور کد js اجرا کنیم باید روی اون سرور node نصب باشه دقیقن مثل کامپیوتر خودمون که اومدیم نودجی اس رو نصب کردیم و هلا نرم افزار های دیگه .

هلا وقتی یه درخواستی میاد به سمت سرور سرور از جا باید بفهمه که اون درخواست رو باید کدوم نرم افزار مدیریت کنه؟ درخواستو باید بده به webserver یا databaseManagement یا... چطور اینو متوجه میشه؟ از روی port یا درگاه یه مثال هم میرنیم برای فهم بیشتر
فرض کنین شما به یه بانک مراجعه میکنین توی اون بانک باجه های مختلفی وجود داره که هر کدومش مختص به یه کاری هستن

<div align="center">
  <img  src="./img/port-2.PNG">
</div>
مثلا اون باجه که بالاش نوشته وام مخصوص اینه که اگه شما میخواید وام بگیرین باید به اون مراجعه کنین و... هلا ما میتونیم پورت رو به همینا تشبیه کنیم هلا ` پورت یه عدد هست` توی باجه های بانکی بالاش اسم باجه هست مثلا وام یا افتتاح حساب و... اما مال پورت یه عدد هست یعنی به هر پورت یه عدد نسبت داده میشه `شماره پورت ها میتونه بین 0 تا 6535 پس تا الان فهمیدیم که port یه درگاه هست یه در هست که اطلاعات از این درها وارد و خارج میشن` 

میخوایم مفهوم پورت هم وارد شبکه وب کنیم که چطوریه چیکارا میکنه برای درک بیشتر وقتی که ما ادرس یک وبسایتی رو وارد میکنیم توی مرورگر چه اتفاقی میفته و مفهوم پورت رو هم واردش کنیم 

<div align="center">
  <img  src="./img/port-3.PNG">
</div>

port 443 , 80 مخصوص به webServer هستن
گفتیم که پورت یه عدد هست مثل باجه های بانکی هلا دوتا پورت داریم پورت های بیشفرض 80 و 443 این دوتا عدد این دوتا پورت مخصوص درگاه webserver هستن یعنی اگه درخواستی بیاد  به این پورت 80 یا 443  رو اینا باشه وب سروری که روی سرور ما نصب هست وضیفه داره که به اون درخواست پاسخ بده 

ما وقتی توی مرورگر google.com رو وارد میکنیم درواقع اینطوریه google.com:443 بعد ادرس دامنه یه دونقطه قرار میگیره و بعد هم شماره پورت اما مرورگر خودش بصورت پیشفرض اینو تشخیص میده و نیاز نیست ما بیاییم این :443  رو بنویسیم اما چیزی که درواقع اتفاق میفته اینه که بهمراه https پورتی که اخر ادرس هست و میزاره خود مرورگر 443 هست .

خب یه باردیگه مرور کنیم ما ادرس google.com رو وارد میکنیم یه درخواست میره سمت DNS سرور و ای پی گوگل رو میگیره و یه reqest  از cleint  میره سمت سرور وب سایت گوگل هلا از روی این پورت 443  میفهمه که باید این درخواست رو webServer مدیریت کنه `پس از روی شماره پورت میفهمیم که کدوم نرم افزار باید این درخواست رو مدیریت کنه`  دقیفن مثلا باجه های بانک طرف از روی اسم باجه میفهمه که باید برای درخواست خودش به کردوم باجه مراجعه کنه. درخواست هایی هم که به سرور ارسال میشن سرور از روی شماره پورتشون میفهمه که باید کدوم نرم افزاری که روی سرور نصب هست توسط کدوم باید مدیریت بشن

اگه ما خودمون هم تو مرورگر سرچ کنیم https://www.google.com:443 باز هم سایت گوگل باز میشه چه بنویسم چه ننویسیم ولی درکل خود مرورگر خودش تشخیص میده و مینویسه اخر ادرس

مثلا پورت 3306 مربوط به نرم افزار mySql دیتابیس هست  یا پورت 20 و 21 مربوط به ftp هست ftpچیه یه پروتوکل هست برای انتفال فایل بین کلاینت و سرور  
اگه protocol ادرسمون http باشه پورت اون میشه 80 و اگه https باشه میشه 443
---

> # url anatomy
url چیه؟ ما به یه آدرس اینترنتی میگیم url
همون چیزی که ما تو اینترنت مینویسیم و دنبالش هستیم بهش میگیم url کلمه anatomy هم بهش میگیم کالبدشکافی تشریح و تجزیه هست میخوایم بصورت کلی ببینیم یه ادرس اینترنتی از چه بخش هایی تشکیل شده البته اینو بگیم درحد اطلاعات فعلیمون داریم یه ادرس اینترنتی بخش هاشو برسی میکنیم بصور کلی هست نه با تمام جزییات 


<div align="center">
  <img  src="./img/urlAnatomy.PNG">
</div>

برای اطلاعات بیشتر و جزییات بیشتر میتونیم تو مرورگر اینا رو سرچ کنیم part of url یا anatomy url که عکسها و مقالاتشونو میتونیم بیشتر بخونیم یه نکته ممکنه تو سایت های مختلف اسم هایی دیگه ای هم رو این بخش هایی که داخل عکس بود بزارن  مثلا به اون protol بگن scheme البته اونا خیلی با جزییات بیشتر توضیح دادن بخش های مختلف یه url رو .
---

> # تفاوت فرانت اند و بک اند

میخوایم تفاوت front-ent , back-end رو باهم برسی کنیم 
توی وب و وب اپلیکیشن ما از فرانت اند و بک اند تشکلیل میشه اون ظاهر کار که ما میبینیمش میشه front-end اون چیزهایی که ما نمیبینیم و پشت صحنه هست میشه back-end 
با یه مثال شروع کنیم مثلا یه برنامه تلیویزیونی رو در نظر بگیریم که کلی عوامل پشت صحنه هستن مثلا فیلم بردار داریم صدا بردار داریم نور پرداز داریم و... اون عواملی که پشت صحنه هستن و ما نمیبینیم اون میشه back-end و اون چیزی که ما میبینیم  مثل بازیگرها میشه front-end 

 <div align="center">
  <img  src="./img/discrepance-FrontAndBack.PNG">
</div>
فرض کنین که ما داخل سایتمون یه فرم ثبت نام داریم که چهار تا input داریم و از کاربر میخوایم که نام و نام خانوادگی و ایمیل و پسوردش رو وارد کنه اون فرم ثبت نام که کاربران میبیننش میشه front-end که  با html css js ایجاد میشه  اما وقتی کاربر اطلاعاتشو وارد کرد و روی دکمه ثبت نام بزنه از اینجا به بعدشو بخش back-end میشه پشت صحنه که یوزر یا کاربر نمیبینه .

هر وب سایتی هر وب اپلیکیشنی یه محلی داره به اسم `دیتابیس یا پایگاه داده جایی هست که تمامی اطلاعات سایت ما داخلش ذخیره میشن`  وقتی کاربر روی دکمه ثبت نام کلیک کنه اطلاعاتی که وارد کرده توی فرم ثبت نام میان و داخل database ثبت میشن که این وضیفه برنامه نویس بک اند هست که با دیتابیس ارتباط برقرار کنه اطلاعاتی که کاربر توی فرم وارد کرده رو دریافت کنه وداخل database یا پایگاه داده ذخیره کنه 

هلا فرض کنین ما یه فرم ورود هم داریم login که کاربر ایمیل و پسوردش رو باید بزنه که این میشه ظاهر کار میشه فرانت هالا توی بک اند چه اطفاقی میفته؟ برنامه نویس بک اند میاد این ایمل و پسورد که کاربر وارد کرده رو میگیره و چک میکنه تو database  که ایا کاربری با این ایمل و پسورد وجود داره؟ ثبت نام کرده  هست یا نه  ایمیل رو چک میکنه اگه اصلا همیچنین ایمیلی تو database نباشه یه پیغامی به کاربر نشون داده میشه میگه که اصلا کسی با این ایمیل قبلا ثبت نام نکرده اگه ایمیل رو داشته باشیم ولی پسورد تو دیتابیس با اون ایمیل مطابقت نداشته باشه باید یه پیغامی به کاربر نشون داده بشه که پسورد اشتباه است این شد تفاوت front-end vs back-end
---

فصل دوم : دیتابیس MongooDb


> # عملیات CRUD

قبلا با مفهوم کلی دیتابیس آشنا شدیم گفتیم که Database معنیش به فارسی میشه پایگاه داده و دیتابیس محلی هست که اطلاعات یک وب سایت بصورت منظم و دسته بندی شده ذخیره و نگهداری میشن پس دیتابیس محل ذخیره اطلاعات وب سایت ما هست.

<div align="center">
  <img  src="./img/CRUD.PNG">
</div>


هلا میخوایم ببینیم عملیات CRUD چی هست؟
این کلمه از کنارهم قرار دادن چهار حرف اول کلمات (Create Read Updare Delet) ساخته شده ایجاد کردن و خواندن و اپدیت و حذف کردن . Create  برای وقتی هست که میخواییم اطلاعات جدیدی رو وارد دیتا بیسمون کنیم در واقع داریم create میکنیم ایجاد میکنیم . همچنین Read یعنی خواندن اطلاعات دریافت اطلاعات از دیتابیس وقتی ما وارد یک وبسایت میشیم و مثلا تو یه صفحه ای همه دوره های اموزشی رو میبینیم خب این اطلاعات از دیتابیس گرفته میشن این اطلاعات read میشن خونده میشن از دیتابیس گرفته میشن و تو اون صفحه نمایش داده میشن مثلا وب سایت دیجیکالا اطلاعات اون محصولات از دیتابیس گرفته میشن و نمایش داده میشن و Update هم یعنی بروزرسانی فرض کنین که ما یک وب سایت اموزشی داریم و میخوایم یکی از محصولات یا دوره هارو ویرایش کنیم مثلا اسم دوره یا نام مدرس یا قیمت یا تعداد دانشجوهای این دوره تغیری میکنه یا... شو تغیری بدیم بهرحال داریم یه تغیری انجام میدیم پس ابدیت کردن اطلاعت هم میشه یکی دیگه از کارایی که میتونیم تو دیتابیس انجام بدیم و Dlete که به معنایی حذف کردن شاید ما به هردلیلی بخوایم مثلا دوره یا محصولی رو حذف کنیم یا یه کاربری رو حذف کنیم یا یه کد تخفیف برای یه مدت بوده و الان میخوایم اون کد تخفیف رو حذف کنیم .

---

> # نصب mongodb

میخوایم دیتابیس MongoDB  رو دانلود کنیم 
وارد مرور گر که شدیم سرچ میکنیم mongoDb  و وارد وب سایت رسمی WW.mongodb.com  میشیم از نوار بالا روی products که کلیک کنیم یه پنجره باز میشه تو قسمت Try Community Edition روی دانلود میزنیم دقت کنین که تو این تاریخ که من مینویسم باید متصل به vpn باشید  سپس وارد یه صفحه میشیم یکم بریم پایین تر میتونیم  برنامه رو دانلود کنیم و سپس نصب کنیم .
دقت کنیم که موقع نصب خودش تیک install mongodb campass رو زده که هم mongodb و هم mongodb campass هم بهاش نصب میشه جریان این mongodb campass اینه که یه GUI هست مخفف (geraphical user interface) هست یعنی رابط گرافیکی campass کلا چیکار میکنه خیلی ساده اگه بگیم mongodbCampass یه نرم افزاره که برای مدیریت پایگاه داده mongodb استفاده میشه یه رابط گرافیکی دراختیارمون میزاره mongodb رو بهاش مدیریت کنیم. 
<div align="center">
  <img  src="./img/DownlodMongooDb-1.png">
</div>

---

> # mongodb compass دقیقا چیه؟

توی قسمت قبل mongoDb , mongoDbCampass رو نصب کردیم . گفتیم که mongoDbCampass یه GUI برای mongoDb  هست یه رابط کاربری گرافیکی برای مدیریت و کارکردن با پایگاه داده mongoDb هست میخوایم اینو بهتر جا بندازیم این رابط کاربر گرافیکی .

ما توی ویندوز میتونیم خیلی راحت بصورت گرافیکی کار کنیم مثلا میخوایم یه فولدر جدید درست کنیم کلیک راست میکنیم و  و NewFolder رو میزنیم یا اسمشو تغیر بدیم و درنهایت بخواییم حذفش میکنیم این کارو ما داریم بصورت گرافیکی انجام میدیم  هلا دقیقن این کارا رو میتونیم با cammand ها هم انجام بدیم با cmd  مثلا وارد cmd بشیم و دستور `mkdir milad`  الان یه فولدر درست میشه با اسم میلاد ما به این قسمت cmd میگیم shell - cammand prompt - terminal این اسم هارو به این محیط میگن توی جاهای مختلف اون جاهایی که ما دستور مینویسیم بجای اینکه رابط گرافیکی داشته باشیم .

`
ما درکل برای کار کردن با mongoDb یه محیط Mongo shell داریم منضور اینه که بصور camand خطی کد بنویسم مثل cmd ویندز و یه محیط MongoDb GUI
`
هلا برای کار کردن با databas mongoDb هم ما هم میتونیم camand وارد کنیم هم میتونیم از محیظ گرافیکی استفاده کنیم کار با محیط گرافیکی قطعا خیلی راحتر و ساده تره و این mongodbcampass یکی از ابزارهای گرافیکی برای کاردن با mongodb هست آیا این mongodbcampass تنها ابزار گرافیکی برای کارکردن با mongodb هست ؟ خیر ابرازهای دیگه ای هم هستن کافه سرچ کنیم  gui for mongodb که میشه رابطهای گرافیکی برای mongodb  که ما 7 تاشونو مثال میزنیم DronaHQ و MongoDB Compass و Robo 3T (formerly Robomongo) و Studio 3T (formerly MongoChef) و NoSQLBooster و HumongouS.io و NoSQL Manager 
که ما فعلا با mongodbcampass کارمیکنیم و بعدن سراغ یکی از اینا میریم.
---

> # ایجاد دیتابیس جدید
توی نرم افزار mongodbcampass میخوایم یه دیتابیس ایجاد کنیم و توی دیتابیسمون collection های مختلف ایجاد کنیم وقتی ما مجموعه اطلاعاتی که به هم مربوط مرتبط هستن رو یه جا ذخیره کنیم بهش میگن collection مثلا ما برای یوزر های وب سایتمون میخوایم یه collection یا مجموعه درست کنی دیتای تمامی یوزرهامونو اونجا قرار بدیم

`
نکته برای اسم گزاشتن برای collection  برای اخر اسمش یه s جمع بزاریم بهتره مثلا اگه بخوایم برای دسته بندی یوزر هامون درست کنیم اینطوری بنویسیم users 
`

<div align="center">
  <img  src="./img/createNewDatabas-1.PNG">
</div>
<div align="center">
  <img  src="./img/createNewDatabas-2.PNG">
</div>
<div align="center">
  <img  src="./img/createnewDatabas-3.PNG">
</div>
<div align="center">
  <img  src="./img/createNewDatabas-4.PNG">
</div>
<div align="center">
  <img  src="./img/createNewDatabase-5.PNG">
</div><div align="center">
  <img  src="./img/createNewDatabase-6.PNG">
</div><div align="center">
  <img  src="./img/createNewDatabas-7.PNG">
</div><div align="center">
  <img  src="./img/createNewDatavas-8.PNG">
</div>
---
> # آشنایی با mongosh
توی این قسمت میخوایم با mongosh یا mongoshell  توی نرم افزار mongoCampass آشنا بشیم . 
اگه دقت کنیم توی این نسخه که من نصب کردم نسخه... بلا سمت راست هست ممکنه توی نسخه ی ای که شما استفاده میکنین جای دیگه باشه یا تغیری کنه تو ابدیتا دنبال Open MongoDB shell  یا MONGOSH بگردین.

<img  src="./img/mongosh-1.PNG">
<img  src="./img/mongosh-2.PNG">
روش که کلیک کنیم میتونیم کارایی که بصورت گرافیکی انجام میدادیم یعنی دیتابیس ساختیم و داخلش چند تا collection درست کردیم میتونیم دقیقن همینکارا رو با comand دستور انجام بدیم توی محیط mongosh یا mongosheell 

یه نکته منابع آموزشی که قرار بهاشون بریم جلو تو گوگل اگه سرچ کنیم mongodb tutorial سایت های زیادی میان که ما از چند تاشون استفاده میکنیم 

1_https://www.w3schools.com/mongodb/
2_https://www.mongodb.com/docs/manual/tutorial/getting-started/
3_https://www.tutorialspoint.com/mongodb/index.htm
4_https://www.geeksforgeeks.org/mongodb-tutorial/

این فصل از جزوه رو از ترکیب این 4 سایت میریم جلو 
توب وب سایت w3schols و tutorialspoint هم که بریم توی navbar کناری سمت چپ میتونیم دنبال متن mongoDB - create DB  بگردیم که نوشته

برای اینکه بخوایی لیست کل دیتابیس ها رو بخوای از این دستور داخل mongodb shell  بنویس
```
show dbs
```
برای تغیر دیتابیس یا ساخت دیتابیس جدید دستور کلمه use و اسمی که میخوای برای دیتابیس بزاریم اگه همچنین دیتابیسی از قبل وجود داشته باشه انتخابش میکنه switch میکنیم رو دیتابیس next1code  واردش میشیم و اگر هم همچین دیتابیسی وجود نداشته باشه ایجادش میکنه یه نکته مهم `اگه با این دستور دیتابیس جدیدی درست کنیم و قبلا وجود نداشته باشه تو محیط گرافیکی هم نمایش داده نمیشه چون توش خالیه حتی اگه رفرشش کنیم هم خالیه هیچ colection چون توش نیست چون هنوز دیتایی توش قرار نداره خالیه قابل نمایش نیست بخاطر همین` 
Remember: In MongoDB, a database is not actually created until it gets content!
یک دیتابیس ساخته نمیشه تازمانی که محتوایی داخلش وجود داشته باشه درسته درستش کردیم ولی چون بدون محتوا هست توی لیست دیتابیس ها قرار نمیگیره.

```
use next1code
```
---

> # ایجاد collection

میخوایم با comand یه collection درست کنیم اگه وب سایت هایhttps://www.w3schools.com/mongodb/mongodb_mongosh_create_collection.php   و https://www.tutorialspoint.com/mongodb/mongodb_create_collection.htm رو باز کنیم بخش mongodb که لینکشو قرار دادم وارد بخش  mongoDB Collection بشیم میکه که یک متد وجود داره به اسم createCollection()  که دوتا وردی میپذیره db.createCollection(name , options)  که name اجباری هست و option  اجباری نیست یعنی میتونیم قرار ندیم این name هم درواقع نام collection هست که میخوایم ایجاد کنیم 

ما دوتا راه  دوتا روش داریم که یک collection بسازیم که روش اول اینه که از متد createCollection() استفاده کنیم روش دوم بیاییم از insert استفاده کنیم که تو قسمت بعدی توضیح میدیم .

اول یه دیتابیس درست کنیم
```
use next1code
```

اگه وارد mongoshell بشیم تو mongocampass با دستور 
```
db.createCallection('users')
```
این db که نوشتیم اول داره اشاره میکنه به اون دیتابیس که ایجاد کردیم منضورش همون next1code هست
که در پاسخ `{  ok:1  }`  یعنی باشه یک کالیکشن ایجاد شد.
---

> # متد insertOne

توی قسمت قبل تونستیم collection درست کنیم و گفتیم که با دو روش میتونیم درست کنیم تو این قسمت برسی میکنیم که چطور داخل اون کالکشن دیتا ذخیره کنیم `به اون دیتای داخل collaction داکیومنت (document) میگیم به هرمدومشون ممکنه هر کالکشن 100 تا 1000 تا داکیومنت یا همین object ها داخلش باشه`  و همچنین اون روش دوم ایجاد کالکشن رو برسی میکنیم .

برای درج کردن یا وارد کردن دیتا داخل collaction مون دستور این db داره اشاره میکنه به اون دیتابیس مون که مثلا دیتابیس next1code است و .users داره اشاره میکنه به اون کالکشن که میخواییم دیتایی رو توش اضافه کنیم و متد .insertPne یعنی یک دیتا درج کن که داخلش بصورت {object} دیتامون رو مینویسیم.
```
db.users.insertOne({ name : 'milad' , family : 'bahrami' , email : 'milad@yaho.com' , password : '123456'})
```
اینو که بزنیم یه همچنین object توی callection users ایجاد میشه  که گفتیم به این object که نوشتیم توی کالکشن یه اصطلاحی داره بهش میگیم داکیومنت document

`یه نکته ریز اگه توی این محیط mongoshell کلمه cls رو بزنیم که مخفف عبارت clear screen  است محیط خالی میشه و کد های قبل پاک میشن`

روش دوم ایجاد collection جدید
گفتیم که یکی استفاده از متد createCollection بود که اینطوری بود db.createCollection(posts)  با یه  روش دیگه هم میتونیم :
```
db.users.insertOne(object)
```
مثل کد قبل که یه یوزر میلاد اضافه کردیم درواقع وقتی ما برای بار اول یه چیزی رو insert کنیم دخل دیتابیس و خب باید به کالکشن اون اشاره کنیم اگه بار اول باشه و قبلا اون کالکشن ایجاد نشده باشه هم این کالکشن رو میسازه هم این اطلاعات رو واردش میکنه که به این دیتایی که درج میشه داخلش میگفتیم داکیومنت
```
db.theachers.insertOne({ name : 'milad' , family : 'bahrami' , email : 'milad@yaho.com' , password : '123456' skill : ['react','nodejs']})
```

---

> # متد insertMany

با متد insertOne میتونستیم  یه object  دیتا وارد کنیم به کالکشنمون با متد insertMany میتونیم یه ارایه متشکل از چندین ابجکت درست کنیم [{...} , {...} , {...}]

```
db.users.insertMany(
  [
   { name : 'nika' , family : 'shakarami' , email : 'nika@google.com' , password : '123456'},
   { name : 'asgjar' , family : 'ahmadi' , email : 'asghar@yaho.com' , password : 'asdfasdfasdf'},
   { name : 'sara' , family : 'abbasi' , email : 'sara@yaho.com' , password : 'se1452'}
  ]
)
```
`یه نکته: ما اگه بخوای داخل پرانتز این متد اینتر بزنیم و بخواییم داخلش اینتر بزنیم و ارایه و ابجکت ها رو بنویسم کد اجرا میشه به محظ اینتر زدن ولی اگه کلید Sheft و سپس Enter رو بزنیم میتونیم فاصله از پایین هم ایجاد کنیم مثل تصویر`
معنی کلمه many میشه (چندین,بسیاری,چندتا)

` پس با insertOne میتونستیم یک داکیومنت درج کنیم اضافه کنیم و با insertMany میتونیم چندین تا اضافه کنیم `

---

> # لظفا داکیومنت بخون

تو این قسمت میخوایم یکم حرف دلی بزنزنیم اینا حرفای میلاد بهرامی است . یکی از چیزایی که شما قراره به عنوان کسی که شغلش برنامه نویسی باشه باید بهش عادت کنه ببین باید یعنی یک اجبار هست باید بهش عادت کنیم داکیومنت خوندن هست همه مدرس ها هم خودشون از روی داکیومنت ها دارن دوره میزارن و یادمیگیرن چه خوب دوره هایی که میان مییان دوره شون داکیومنت هم باز میکنن و منبع میگن و کنارش توضیحات میدن و دست به کد میشن مستقیم نمیان کد بنویسن داخل vscode یا... این کار باید باعث بشه که ماهم داکیومنت بخونیم و بهش عادت کنیم شما هم باید یادبگیرین که با داکیومنت خوندن اطلاعات جدید کسب کنین 90دصد موفق شدن توی برنامه نویسی رو طی کردین هر چقدر شما روی زبانتون وقت بزارین موفقیتتون توی برنامه نویسی حتمی تر میشه پس سعی کنین حتما یه تایمی رو برای زبان هم بزارین اما اگه الان زبانتون قوی نیست اشکالی نداره به مرور زبانتون قوی میشه با داکیومنت خوندن حتما هر مطلبی که توی جلسه های اینده که گفتیم از تو وب سایت های که قسمت های قبل گفتیم رو حتما برسی کنین شروع کنین به داکیونت خونندن بزارین عادت بکنین رفقا تکنولوژی های برنامه نویسی در گزر زمان با سرعت باورنکردنی ابدیت میشن یعنی همین mongodb هی داره ابدیت میشه خود nodejs هی داره ابدیت میشه ورژن های جدید ازش میاد و وقتی ابدیتی به وجود میاد تغیری به وجود میاد توی یه تکنولوژی طبیعتن اولین بار اون اطلاعات به زبان انگلیسی منتشر میشن هالا کلی بعدش با کلی تاخیر یه نفر میاد اون ابدیته رو تبدیل به یه دوره اموزشی میکنه به زبان فارسی میکنه یکی تبدیل به مقاله میکنه خلاصه تو این زمان کلی وقفه به وجود میاد اگه شما زبانتون خوب باشه و بلد باشین داکیومنت بخونین عادت کرده باشید خودت میری از داکیومنت اصلی میخونی  به عنوان یک برادر اگه میخواید توی برنامه نویسی حرفی برای گفتن داشته باشید و روی برنامه نویسی به عنوان یک شغل حساب باز کنین `چاره ای ندارین جز اینکه به داکیومنت خوندن عادت کنین` و چه بهتر که از همینجا شروع بکنین که زبانت خیلی ضعیفه توی یکی دو سال بهش عادت میکنین .

---

> # متد find و findOne

حتما قبلش وارد سایت w3schols  ادرس  https://www.w3schools.com/mongodb/mongodb_mongosh_find.php بشید و از ناوبار سمت چپ وارد بخش mongoDB Find از رو داکیومنت هم بخونیم که عادت کنیم . 

معنی کلمه find میشه پیداکردن . ما یه سری دیتا یا اطلاعات که میگفتیم بهشون داکیومنت توی داکلشن هامون که تو دیتابیس مون بود داشتیم هلا ما میخوایم از بین این داکیومنت ها انتخاب کنیم مثلا میگم اونی که ایدیش برابر فلان هست یا مثلا اونی که اسمش نیکا هست رو انتخاب کن اونی که ایمیلش فلان هست رو انتخاب کن `پس اگه بخوایم از بین این داکیومنت ها بگردیم و هلا طبق یه شرایطی از بین این داکیومنت ها یه تعداد یا یکی شونو انتخواب کنیم از دوتا متد ()find() , findOone استفاده میکنیم `

اگه بخوایم یکی پیدا کنیم از اطلاعات یا اون داکیومنت هایی که داریم از متد findOne() و اگه بخوایم بیش از یکی پیدا کنیم از متد find() استفاده میکنیم  


به عنوان وردی متد find() ما باید بهش یه {object} پاس بدیم که اسمش `query object` هست هلا در ادامه بیشتر بهاش اشنامیشیم و اگه به عنوان وردی این متد find() هیچی ننویسیم هیچی بهش پاس ندیم و خالی رهاش کنیم empty باشه یعنی خالی همه داکیومنت ها رو برمیگردونه همه رو میده اگه بهش چیزی ندیم همه داکیومنت هارو میده 

فرض کنین که ما پنج داکیومنت داریم توی کالکشن users  و بدون هیچ مقدار یا query object  نمیدیم:
```
db.users.find()
```
چون چیزی مشخص نکردیم به عنوان پاسخی که میده همه داکیومنت ها رو پاس میده  تو متد .find()
```
[
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'ali' , lastName: 'karimi' , email : 'ali@yahoo.com' , password : '12345678'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'nika' , lastName: 'shakarami' , email : 'nika@eail.com' , password : '1ddw45678'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'asghar' , lastName: 'ahmadi' , email : 'asghar@yahoo.com' , password : 'p456dhhuy'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'mamad' , lastName: 'tarj' , email : 'mamad@yahoo.com' , password : '123ds6fr8'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami' , email : 'milad@yahoo.com' , password : 'wf6718sad'},
]
```

هلا متد findOne() برای اینکه فقط یک داکیومنت رو انتخاب کنیم میتونیم از متد findOne() استفده کنیم اینم دباره مشابه find بعنوان ورودی یه query object میگیره که اگه خالی بزاریم چیزی براش ننویسم چیزی که return  میکنه چیزی که برمیگردونه اولین داکیومنت رو  
```
db.users.findOne()
```

```
{_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'ali' , lastName: 'karimi' , email : 'ali@yahoo.com' , password : '12345678'}
```

هلا این دو متد findOne , find میتونن به عنوان وردی که اسمش ورودی هاشون بود query object میتوننن به عنوان رودی یه object بپذیرن که یه سری شرایط دارن  هلا از findOne رو برسی میکنیم 

```
db.users.findOne({ name : 'milad'})
```
میره اولین داکیومنتی که اسمش میلاد هست رو پیدا میکنه 
```
 {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami' , email : 'milad@yahoo.com' , password : 'wf6718sad'}
```


`به اون object که به عنوان وردی به این دو متد میدیم بهش میگن query object` هلا این یکم داستان داره که بیشتر بهاش اشنا میشیم ما یه projection هم داریم  ورودی find که میشه یه object که بهش quert object میگفتیم یه مقدار دیگه هم میتونه داشته که اون هم object هست.  یکیش اون چیزی هست که ما دنبالش میگردیم که تو مثال نوشتیم name : 'milad' بود مثلا دنبال اسم هستیم  که یه ابحکت هست برسی کردیم و اون ورودی دیگه که اسمش projection هست که اون هم ابجکت هست میتونیم مشخص کنیم که ما فقط name , lastName رو میخوایم و بقیه اطلاعات رو نمیخواییم برای هر دو متد هست میتونیم استفاده کنیم 

هلا یه مثال بزنیم برای درک بهتر اول فقط با query object بدون وردی دوم بزنیم :

```
db.users.findOne({ name : 'milad'})
```
میره اولین داکیومنتی که اسمش میلاد هست رو پیدا میکنه 
```
 {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami' , email : 'milad@yahoo.com' , password : 'wf6718sad'}
```
همونطور که میبینین کل اطلاعاتشو میده id , name , lastName , emeil , password  همه شو میده مثلا من فقط name , lastName شو میخوام بقیشو نمیخوام بده :
```
db.users.findOne( {name : 'milad'} , {name : 1 , lastName : 1}  )
```
`اگه name:0 قرار بدم یعنی name  رو نمیخوام اگه name:1 قرار بدم یعنی name رو میخوام`

```
{_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami'}
```
هلا میتونیم یه کاری کنیم که اون id رو هم نده  اون رو اینبار برابر 0 میزاریم مینویسیم
```
db.users.findOne({name : 'milad' } , {name : 1 , lastName : 1 , _id : 0})
```
```
{ name : 'milad' , lastName: 'bahrami'}
```

---

> # متد updateOne

ما میتونیم داکیومنت هامون رو مقادیرشو update بروزرسانی کنیم 

```
[
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'ali' , lastName: 'karimi' , email : 'ali@yahoo.com' , password : '12345678'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'nika' , lastName: 'shakarami' , email : 'nika@eail.com' , password : '1ddw45678'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'asghar' , lastName: 'ahmadi' , email : 'asghar@yahoo.com' , password : 'p456dhhuy'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'mamad' , lastName: 'tarj' , email : 'mamad@yahoo.com' , password : '123ds6fr8'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami' , email : 'milad@yahoo.com' , password : 'wf6718sad'},
]
```
این داکیومنت ها که داخل کالکشن users هستن میتونیم مقادیری که دارن رو بروزرسانی کنیم مثلا name  یا ...  شون رو یه مثال مثلا شما تو یه سایت ثبت نام کردین و میخوایین password تون رو تغیر بدین خب این پسورد شما تو دیتابیس تو یه جایی ذخیره میشه و هالا درواقع شما دارین پسورد تون رو ابدیت میکنین تغیرش میدید .

میتونیم از دو متد updateOne() و updateMany() استفاده کنیم . اگه بخوایم یکی از این داکیونت هارو بروز رسانی کنیم از updateOne استفاده میکنیم اگه بخواییم بیش از یک داکیومنت رو ابدیت کنیم  بصورت همزمان از updateMany استفاده میکنیم مثلا بگیم همه داکیومنت هامون پسوردشون بشه 12345678 اینطوری داریم بیش از یک داکیومنت رو ابدیت کنیم پس در اینصورت از updateMany استفاده میشه .

 ما الان میخوایم سومی که name : 'asghar' هست رو password : 'p456dhhuy' که هست رو  تغیر بدیم ابدیت کنیم 
 ```
db.users.updateOne(
  {email : 'asghar@yahoo.com'},
  {$set : {password : '7878980011'}}
)
```
که چیزی که بهمون میگه تو mongoshell :
```
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
```
یعنی  matchedCount: 1 میگه این چیزی که من دنبالش گشتم با چند تا داکیومنت ها match شده با چند تا مطابقط داره فقط یکی بود دیگه که با این ایمیل بود که ما نوشتیم بعد نوشته modifiedCount :1 یعنی تغیر داده شده داره داکیومنت هایی که تغیر داده شده رو نوشته یک 


میتونیم از یک داکیومنت چند فیلد دیگه چند کلید دیگه رو هم باهم تغیر بدیم :


 ```
db.users.updateOne(
  {email : 'asghar@yahoo.com'},
  {$set : {lastName : 'bahrami' , password : '7878980asq'}}
)
```
---

> # متد updateMany

متد opdateOne همونطور که از اسمش مشخصه فقط برای ابدیت کردن یک داکیومنت میتونیم ازش استفاده کنیم  اما اگه بخوایم بیش از یک داکیومنت رو ابدیت کنیم از متد updateMany استفاده میکنیم مثلا همه اونایی که جنسیت شون اقا هست رو پسوردشون یا چیزی شون رو تغیری بدم یا مثلا همه کاربرانی که سنشون از یه عدد موردنظری بزرگتره یا کوچکتره است رو یه جایی شو یه ابدیتی کنم توی این موارد توی این کیس ها ما از updateMany استفاده میکنیم الان ما یه داکیومنت دیگه هم اضافه میکنیم که اونم lastName bahrami باشه 
```
db.users.insertOne{{name: 'mehrdad' , lastName : 'bahrami' , email : 'mehrdad@yahoo.com' , password : 'asdfasdf111'}}
```
هلا کالکشن users اینطوری شده 6تا کالکشن
```
[
  {_id : ObjectId("62c350qc07d768a33fdfe9b0") , name : 'ali' , lastName: 'karimi' , email : 'ali@yahoo.com' , password : '12345678'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'nika' , lastName: 'shakarami' , email : 'nika@eail.com' , password : '1ddw45678'},
  {_id : ObjectId("62c350dc07d768a33ddfe9b0") , name : 'asghar' , lastName: 'ahmadi' , email : 'asghar@yahoo.com' , password : 'p456dhhuy'},
  {_id : ObjectId("62c350dc07d768a33wdfe9b0") , name : 'mamad' , lastName: 'tarj' , email : 'mamad@yahoo.com' , password : '123ds6fr8'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami' , email : 'milad@yahoo.com' , password : 'wf6718sad'},
  {_id : ObjectId("62c350dc07d768a33fdfe7b0") , name : 'mehrdad' , lastName: 'bahrami' , email : 'mehrdad@yahoo.com' , password : 'asdfasdf111'}
]
```

الان کاری که میخواییم انجام بدیم اینه که اونایی که  'lastName : 'bahrami دارن رو password شون رو تغیر بدیم باهم 

```
db.users.updateMany(
  {lastName : 'bahrami'},
  {$set : {password : '40009'}}
)
```
الان هر دوتا اونایی که 'lastName : 'bahrami'  بودن دوتا شون پسوردشون تغیر کرده.

---

> #  deleteOne و deleteMany

فرض کنین که ما تو کالکشن users مون چند تا کالکشن داریم و میخوایم اونی که password : '78784555' رو حذف کنیم میتونیم با استفاده از دوتا متد deleteOne , dleteMany این کارو انجام بدیم که dleteOne برای حذف کردن یک داکیومنت استفاده میشه و deleteMany برای حذف بیش از یک داکیومنت استفاده میشه .


این رو کالکشن users درنظر بگیرین
```
[
  {_id : ObjectId("62c350qc07d768a33fdfe9b0") , name : 'ali' , lastName: 'karimi' , email : 'ali@yahoo.com' , password : '12345678'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'nika' , lastName: 'shakarami' , email : 'nika@eail.com' , password : '1ddw45678'},
  {_id : ObjectId("62c350dc07d768a33ddfe9b0") , name : 'asghar' , lastName: 'ahmadi' , email : 'asghar@yahoo.com' , password : 'p456dhhuy'},
  {_id : ObjectId("62c350dc07d768a33wdfe9b0") , name : 'mamad' , lastName: 'tarj' , email : 'mamad@yahoo.com' , password : '123ds6fr8'},
  {_id : ObjectId("62c350dc07d768a33fdfe9b0") , name : 'milad' , lastName: 'bahrami' , email : 'milad@yahoo.com' , password : 'wf6718sad'},
  {_id : ObjectId("62c350dc07d768a33fdfe7b0") , name : 'mehrdad' , lastName: 'bahrami' , email : 'mehrdad@yahoo.com' , password : 'asdfasdf111'}
]
```
هلا میخوایم یکی  رو حذف کنیم :
```
db.users.deleteOne({ _id : 'ObjectId("62c350qc07d768a33fdfe9b0"'})
```
متد dleteOne  میره میگرده از اولین برسه به هرکدوم مثلا فرض کنین ما دوتا یوزر با lastName : 'bahrami' داریم اگه از متد dleteOn استفاده کنیم میره میگرده به اولین که رسید همون رو حذف میکنه و کارش تموم میشه 

```
db.users.deleteMany({ lastName : 'bahrami'})
```
الان چیزی که برمیگردونه داخل mongosell میگه دوتا حذف داشتیم
```
{
  acknowledged : true,
  deletedCount : 2
}
```
